<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ValueObservation Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/ValueObservation" class="dashAnchor"></a>
    <a title="ValueObservation Structure Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">GRDB 6.0.0-beta.4 Docs</a> (0% documented)</p>
        <p class="header-right"><a href="https://github.com/groue/GRDB.swift"><img src="../img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://http%3A%2F%2Fgroue.github.io%2FGRDB.swift%2Fdocs%2F6.0.0-beta.4%2Fdocsets%2FGRDB.xml"><img src="../img/dash.png" alt="Dash"/>Install in Dash</a></p>
        <div class="header-right">
          <form role="search" action="../search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">GRDB Reference</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        ValueObservation Structure Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/AnyCursor.html">AnyCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/AnyDatabaseCancellable.html">AnyDatabaseCancellable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/AnyDatabaseReader.html">AnyDatabaseReader</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/AnyDatabaseWriter.html">AnyDatabaseWriter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ColumnDefinition.html">ColumnDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ColumnDefinition/GeneratedColumnQualification.html">– GeneratedColumnQualification</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database.html">Database</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/BusyMode.html">– BusyMode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/CheckpointMode.html">– CheckpointMode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/CollationName.html">– CollationName</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/ColumnType.html">– ColumnType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/ConflictResolution.html">– ConflictResolution</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/ForeignKeyAction.html">– ForeignKeyAction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/TracingOptions.html">– TracingOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/TraceEvent.html">– TraceEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/TransactionCompletion.html">– TransactionCompletion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/TransactionKind.html">– TransactionKind</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Database/TransactionObservationExtent.html">– TransactionObservationExtent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseCollation.html">DatabaseCollation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseFunction.html">DatabaseFunction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseFuture.html">DatabaseFuture</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabasePool.html">DatabasePool</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseQueue.html">DatabaseQueue</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseSnapshot.html">DatabaseSnapshot</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseValueCursor.html">DatabaseValueCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FTS3TableDefinition.html">FTS3TableDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FTS4ColumnDefinition.html">FTS4ColumnDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FTS4TableDefinition.html">FTS4TableDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FTS5ColumnDefinition.html">FTS5ColumnDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FTS5TableDefinition.html">FTS5TableDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FastDatabaseValueCursor.html">FastDatabaseValueCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Record.html">Record</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/RecordCursor.html">RecordCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Row.html">Row</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Row/ScopesView.html">– ScopesView</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Row/ScopesTreeView.html">– ScopesTreeView</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Row/PrefetchedRowsView.html">– PrefetchedRowsView</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/RowCursor.html">RowCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SQLStatementCursor.html">SQLStatementCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SharedValueObservation.html">SharedValueObservation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Statement.html">Statement</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TableAlias.html">TableAlias</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TableAlteration.html">TableAlteration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TableDefinition.html">TableDefinition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ValueObservationScheduler.html">ValueObservationScheduler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/DatabaseColumnDecodingStrategy.html">DatabaseColumnDecodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DatabaseColumnEncodingStrategy.html">DatabaseColumnEncodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DatabaseDateDecodingStrategy.html">DatabaseDateDecodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DatabaseDateEncodingStrategy.html">DatabaseDateEncodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DatabaseEventKind.html">DatabaseEventKind</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DatabaseUUIDEncodingStrategy.html">DatabaseUUIDEncodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/PersistenceError.html">PersistenceError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/SQLDateModifier.html">SQLDateModifier</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/SharedValueObservationExtent.html">SharedValueObservationExtent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ValueReducers.html">ValueReducers</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ValueReducers.html#/Fetch">– Fetch</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ValueReducers.html#/Map">– Map</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ValueReducers.html#/RemoveDuplicates">– RemoveDuplicates</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ValueReducers.html#/Trace">– Trace</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions.html#/ArrayRowImpl">ArrayRowImpl</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/CGFloat.html">CGFloat</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/ClosedRange.html">ClosedRange</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Collection%3CSQL%3E.html">Collection&lt;SQL&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/ColumnDecoder">ColumnDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/ColumnEncoder">ColumnEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/CommonTableExpression%3CRow%3E.html">CommonTableExpression&lt;Row&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/CountableClosedRange.html">CountableClosedRange</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/CountableRange.html">CountableRange</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Decimal.html">Decimal</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Dictionary.html">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/FetchRequest%3CRow%3E.html">FetchRequest&lt;Row&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Float.html">Float</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int16.html">Int16</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int8.html">Int8</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/JSONRequiredEncoder">JSONRequiredEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSData.html">NSData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSDate.html">NSDate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSNull.html">NSNull</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSNumber.html">NSNumber</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSString.html">NSString</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSURL.html">NSURL</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSUUID.html">NSUUID</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/OrderedDictionary">OrderedDictionary</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/PrefetchedRowsDecoder">PrefetchedRowsDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Range.html">Range</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/RangeReplaceableCollection.html">RangeReplaceableCollection</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/RowDecodingError">RowDecodingError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/SQLRequest%3CRow%3E.html">SQLRequest&lt;Row&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Sequence.html">Sequence</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Sequence%3CSQL%3E.html">Sequence&lt;SQL&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Sequence%3Cany%20SQLExpressible%3E.html">Sequence&lt;any SQLExpressible&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Sequence%3Cany%20SQLSpecificExpressible%3E.html">Sequence&lt;any SQLSpecificExpressible&gt;</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/SerializedDatabase">SerializedDatabase</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt.html">UInt</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt16.html">UInt16</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt32.html">UInt32</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt64.html">UInt64</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt8.html">UInt8</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/URL">URL</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UUID.html">UUID</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/ValueConcurrentObserver">ValueConcurrentObserver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/ValueWriteOnlyObserver">ValueWriteOnlyObserver</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/!(_:)">!(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/!=(_:_:)">!=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/!==(_:_:)">!==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/&amp;&amp;(_:_:)">&amp;&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/*(_:_:)">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/*=(_:_:)">*=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/+(_:_:)">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/+=(_:_:)">+=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/-(_:)">-(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/-(_:_:)">-(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/-=(_:_:)">-=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#//(_:_:)">/(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#//=(_:_:)">/=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/&lt;(_:_:)">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/&lt;=(_:_:)">&lt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/==(_:_:)">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/===(_:_:)">===(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/&gt;(_:_:)">&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/&gt;=(_:_:)">&gt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/??(_:_:)">??(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/abs(_:)">abs(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/average(_:)">average(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/count(_:)">count(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/count(distinct:)">count(distinct:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/databaseQuestionMarks(count:)">databaseQuestionMarks(count:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/dateTime(_:_:)">dateTime(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/julianDay(_:_:)">julianDay(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/length(_:)">length(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/max(_:)">max(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/min(_:)">min(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/splittingRowAdapters(columnCounts:)">splittingRowAdapters(columnCounts:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/sum(_:)">sum(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/total(_:)">total(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/||(_:_:)">||(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/AggregatingRequest.html">AggregatingRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Association.html">Association</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AssociationToMany.html">AssociationToMany</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AssociationToOne.html">AssociationToOne</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ColumnExpression.html">ColumnExpression</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Cursor.html">Cursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseAggregate.html">DatabaseAggregate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseCancellable.html">DatabaseCancellable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseCursor.html">DatabaseCursor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseReader.html">DatabaseReader</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseRegionConvertible.html">DatabaseRegionConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseValueConvertible.html">DatabaseValueConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseWriter.html">DatabaseWriter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DerivableRequest.html">DerivableRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/EncodableRecord.html">EncodableRecord</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FTS5CustomTokenizer.html">FTS5CustomTokenizer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FTS5Tokenizer.html">FTS5Tokenizer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FTS5WrapperTokenizer.html">FTS5WrapperTokenizer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchRequest.html">FetchRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchableRecord.html">FetchableRecord</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FilteredRequest.html">FilteredRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/JoinableRequest.html">JoinableRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/MutablePersistableRecord.html">MutablePersistableRecord</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/OrderedRequest.html">OrderedRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/PersistableRecord.html">PersistableRecord</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RowAdapter.html">RowAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SQLExpressible.html">SQLExpressible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SQLOrderingTerm.html">SQLOrderingTerm</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SQLSelectable.html">SQLSelectable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SQLSpecificExpressible.html">SQLSpecificExpressible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SQLSubqueryable.html">SQLSubqueryable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SelectionRequest.html">SelectionRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StatementBinding.html">StatementBinding</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StatementColumnConvertible.html">StatementColumnConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TableRecord.html">TableRecord</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TableRequest.html">TableRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TransactionObserver.html">TransactionObserver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TypedRequest.html">TypedRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/ValueReducer">ValueReducer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/VirtualTableModule.html">VirtualTableModule</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/AdaptedFetchRequest.html">AdaptedFetchRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AllColumns.html">AllColumns</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnyDatabaseRegionConvertible.html">AnyDatabaseRegionConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnyFetchRequest.html">AnyFetchRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AssociationAggregate.html">AssociationAggregate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/BelongsToAssociation">BelongsToAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Column.html">Column</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/ColumnAssignment">ColumnAssignment</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ColumnInfo.html">ColumnInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ColumnMapping.html">ColumnMapping</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/CommonTableExpression.html">CommonTableExpression</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseBackupProgress.html">DatabaseBackupProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseDateComponents.html">DatabaseDateComponents</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseDateComponents/Format.html">– Format</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseError.html">DatabaseError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseEvent.html">DatabaseEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseEvent/Kind.html">– Kind</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseMigrator.html">DatabaseMigrator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseMigrator/ForeignKeyChecks.html">– ForeignKeyChecks</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabasePreUpdateEvent.html">DatabasePreUpdateEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabasePreUpdateEvent/Kind.html">– Kind</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseRegion.html">DatabaseRegion</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseRegionObservation.html">DatabaseRegionObservation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseValue.html">DatabaseValue</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseValue/Storage.html">– Storage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/EmptyRowAdapter.html">EmptyRowAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS3.html">FTS3</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS3/Diacritics.html">– Diacritics</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS3Pattern.html">FTS3Pattern</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS3TokenizerDescriptor.html">FTS3TokenizerDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS4.html">FTS4</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5.html">FTS5</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5/Diacritics.html">– Diacritics</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5Pattern.html">FTS5Pattern</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5TokenFlags.html">FTS5TokenFlags</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5Tokenization.html">FTS5Tokenization</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/FTS5TokenizerDescriptor.html">FTS5TokenizerDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ForeignKey.html">ForeignKey</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ForeignKeyInfo.html">ForeignKeyInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ForeignKeyViolation.html">ForeignKeyViolation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/HasManyAssociation">HasManyAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/HasManyThroughAssociation">HasManyThroughAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/HasOneAssociation">HasOneAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/HasOneThroughAssociation">HasOneThroughAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/IndexInfo.html">IndexInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/IndexInfo/Origin.html">– Origin</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/IndexOptions.html">IndexOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Inflections.html">Inflections</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/InsertionSuccess.html">InsertionSuccess</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/JoinAssociation">JoinAssociation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PersistenceConflictPolicy.html">PersistenceConflictPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PersistenceContainer.html">PersistenceContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PersistenceSuccess.html">PersistenceSuccess</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PreparedRequest.html">PreparedRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PrimaryKeyInfo.html">PrimaryKeyInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/QueryInterfaceRequest.html">QueryInterfaceRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RangeRowAdapter.html">RangeRowAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RenameColumnAdapter.html">RenameColumnAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ResultCode.html">ResultCode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/RowIndex">RowIndex</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SQL.html">SQL</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SQLExpression.html">SQLExpression</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SQLExpression/AssociativeBinaryOperator.html">– AssociativeBinaryOperator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/SQLOrdering">SQLOrdering</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SQLRequest.html">SQLRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/SQLSelection">SQLSelection</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/SQLSubquery">SQLSubquery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ScopeAdapter.html">ScopeAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/StatementArguments.html">StatementArguments</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SuffixRowAdapter.html">SuffixRowAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Table.html">Table</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TableOptions.html">TableOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ValueObservation.html">ValueObservation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/VirtualTableConfiguration">VirtualTableConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/FTS5TokenCallback">FTS5TokenCallback</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/FTS5WrapperTokenCallback">FTS5WrapperTokenCallback</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/SQLiteConnection">SQLiteConnection</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/SQLiteStatement">SQLiteStatement</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ValueObservation</h1>
            <p>ValueObservation tracks changes in the results of database requests, and
notifies fresh values whenever the database changes.</p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">cancellable</span> <span class="o">=</span> <span class="k">try</span> <span class="n">observation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">,</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> <span class="o">...</span> <span class="p">},</span>
    <span class="nv">onChange</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">players</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Players have changed."</span><span class="p">)</span>
    <span class="p">})</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Property/requiresWriteAccess" class="dashAnchor"></a>
                    <a class="token" href="#/">requiresWriteAccess</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Default is false. Set this property to true when the observation
requires write access in order to fetch fresh values. Fetches are then
wrapped inside a savepoint.</p>

<p>Don&rsquo;t set this flag to true unless you really need it. A read/write
observation is less efficient than a read-only observation.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/shared(in:scheduling:extent:)" class="dashAnchor"></a>
                    <a class="token" href="#/">shared(in:<wbr>scheduling:<wbr>extent:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a shared value observation that shares a single underlying
database observation for all subscriptions, and thus spares
database resources.</p>

<p><a href="http://github.com/groue/GRDB.swift#what-are-experimental-features"><strong>Experimental</strong></a></p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">sharedObservation</span> <span class="o">=</span> <span class="kt">ValueObservation</span>
    <span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="p">}</span>
    <span class="o">.</span><span class="nf">shared</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">)</span>
</code></pre>

<p>The sharing only applies if you start observing the database from the
same <code><a href="../Classes/SharedValueObservation.html">SharedValueObservation</a></code> instance:</p>
<pre class="highlight swift"><code><span class="c1">// NOT shared</span>
<span class="k">let</span> <span class="nv">cancellable1</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">}</span><span class="o">.</span><span class="nf">shared</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">)</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">cancellable2</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">}</span><span class="o">.</span><span class="nf">shared</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">)</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1">// Shared</span>
<span class="k">let</span> <span class="nv">sharedObservation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">}</span><span class="o">.</span><span class="nf">shared</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">cancellable1</span> <span class="o">=</span> <span class="n">sharedObservation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">cancellable2</span> <span class="o">=</span> <span class="n">sharedObservation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre>

<p>By default, fresh values are dispatched asynchronously on the
main queue. You can change this behavior by providing a scheduler.
For example, <code>.immediate</code> notifies all values on the main queue as well,
and the first one is immediately notified when the start() method
is called:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">sharedObservation</span> <span class="o">=</span> <span class="kt">ValueObservation</span>
    <span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="p">}</span>
    <span class="o">.</span><span class="nf">shared</span><span class="p">(</span>
        <span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">,</span>
        <span class="nv">scheduling</span><span class="p">:</span> <span class="o">.</span><span class="n">immediate</span><span class="p">)</span> <span class="c1">// &lt;-</span>

<span class="k">let</span> <span class="nv">cancellable</span> <span class="o">=</span> <span class="k">try</span> <span class="n">sharedObservation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> <span class="o">...</span> <span class="p">},</span>
    <span class="nv">onChange</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">players</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"fresh players: </span><span class="se">\(</span><span class="n">players</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">})</span>
<span class="c1">// &lt;- here "fresh players" is already printed.</span>
</code></pre>

<p>Note that the <code>.immediate</code> scheduler requires that the observation is
subscribed from the main thread. It raises a fatal error otherwise.</p>

<p>A shared observation starts observing the database as soon as it is
subscribed. You can choose if database observation should stop, or not,
when its number of subscriptions drops down to zero, with the <code>extent</code>
parameter. See <code><a href="../Enums/SharedValueObservationExtent.html">SharedValueObservationExtent</a></code> for available options.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Starting%20Observation"></a>
                <a name="//apple_ref/swift/Section/Starting Observation" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Starting%20Observation"></a>
                  <h3 class="section-name"><span>Starting Observation</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/start(in:scheduling:onError:onChange:)" class="dashAnchor"></a>
                    <a class="token" href="#/">start(in:<wbr>scheduling:<wbr>onError:<wbr>onChange:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Starts the value observation in the provided database reader (such as
a database queue or database pool).</p>

<p>The observation lasts until the returned cancellable is cancelled
or deallocated.</p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">cancellable</span> <span class="o">=</span> <span class="k">try</span> <span class="n">observation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">,</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> <span class="o">...</span> <span class="p">},</span>
    <span class="nv">onChange</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">players</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"fresh players: </span><span class="se">\(</span><span class="n">players</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">})</span>
</code></pre>

<p>By default, fresh values are dispatched asynchronously on the
main queue. You can change this behavior by providing a scheduler.
For example, <code>.immediate</code> notifies all values on the main queue as well,
and the first one is immediately notified when the start() method
is called:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">cancellable</span> <span class="o">=</span> <span class="k">try</span> <span class="n">observation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">,</span>
    <span class="nv">scheduling</span><span class="p">:</span> <span class="o">.</span><span class="n">immediate</span><span class="p">,</span> <span class="c1">// &lt;-</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> <span class="o">...</span> <span class="p">},</span>
    <span class="nv">onChange</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">players</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"fresh players: </span><span class="se">\(</span><span class="n">players</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">})</span>
<span class="c1">// &lt;- here "fresh players" is already printed.</span>
</code></pre>

<p>Note that the <code>.immediate</code> scheduler requires that the observation is
subscribed from the main thread. It raises a fatal error otherwise.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Debugging"></a>
                <a name="//apple_ref/swift/Section/Debugging" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Debugging"></a>
                  <h3 class="section-name"><span>Debugging</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/handleEvents(willStart:willFetch:willTrackRegion:databaseDidChange:didReceiveValue:didFail:didCancel:)" class="dashAnchor"></a>
                    <a class="token" href="#/">handleEvents(willStart:<wbr>willFetch:<wbr>willTrackRegion:<wbr>databaseDidChange:<wbr>didReceiveValue:<wbr>didFail:<wbr>didCancel:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Performs the specified closures when ValueObservation events occur.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/print(_:to:)" class="dashAnchor"></a>
                    <a class="token" href="#/">print(_:<wbr>to:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Prints log messages for all ValueObservation events.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Creating%20ValueObservation"></a>
                <a name="//apple_ref/swift/Section/Creating ValueObservation" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Creating%20ValueObservation"></a>
                  <h3 class="section-name"><span>Creating ValueObservation</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/trackingConstantRegion(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">trackingConstantRegion(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates an optimized <code>ValueObservation</code> that notifies the values
returned by the <code>fetch</code> function whenever a database transaction
changes them.</p>

<p>The optimization only kicks in when the observation is started from a
<code><a href="../Classes/DatabasePool.html">DatabasePool</a></code>: fresh values are fetched concurrently, and do not block
database writes.</p>
<div class="aside aside-precondition">
    <p class="aside-title">Precondition</p>
    The <em>fetch</em> function must perform requests that fetch
from a single and constant database region. The tracked region is made
of tables, columns, and, when possible, rowids of individual rows. All
changes that happen outside of this region do not impact
the observation.

</div>

<p>For example:</p>
<pre class="highlight swift"><code><span class="c1">// Tracks the full 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">trackingConstantRegion</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Player</span><span class="p">]</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Tracks the row with id 42 in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">trackingConstantRegion</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="kt">Player</span><span class="p">?</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="nv">key</span><span class="p">:</span> <span class="mi">42</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Tracks the 'score' column in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">trackingConstantRegion</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="kt">Int</span><span class="p">?</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">select</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="kt">Column</span><span class="p">(</span><span class="s">"score"</span><span class="p">)))</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Tracks both the 'player' and 'team' tables</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">trackingConstantRegion</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="p">([</span><span class="kt">Team</span><span class="p">],</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">teams</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Team</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
    <span class="k">let</span> <span class="nv">players</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
    <span class="nf">return</span> <span class="p">(</span><span class="n">teams</span><span class="p">,</span> <span class="n">players</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>When you want to observe a varying database region, make sure you use
the <code><a href="../Structs/ValueObservation.html#/tracking(_:)">ValueObservation.tracking(_:)</a></code> method instead, or else some changes
will not be notified.</p>

<p>For example, consider those three observations below that depend on some
user preference. They all track a varying region, and must
use <code><a href="../Structs/ValueObservation.html#/tracking(_:)">ValueObservation.tracking(_:)</a></code>:</p>
<pre class="highlight swift"><code><span class="c1">// Does not always track the same row in the player table.</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="kt">Player</span><span class="p">?</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">pref</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Preference</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="p">??</span> <span class="o">.</span><span class="k">default</span>
    <span class="k">return</span> <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="nv">key</span><span class="p">:</span> <span class="n">pref</span><span class="o">.</span><span class="n">favoritePlayerId</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Only tracks the 'user' table if there are some blocked emails.</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">User</span><span class="p">]</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">pref</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Preference</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="p">??</span> <span class="o">.</span><span class="k">default</span>
    <span class="k">let</span> <span class="nv">blockedEmails</span> <span class="o">=</span> <span class="n">pref</span><span class="o">.</span><span class="n">blockedEmails</span>
    <span class="k">return</span> <span class="k">try</span> <span class="kt">User</span><span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">blockedEmails</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="kt">Column</span><span class="p">(</span><span class="s">"email"</span><span class="p">)))</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Sometimes tracks the 'food' table, and sometimes the 'beverage' table.</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">pref</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Preference</span><span class="o">.</span><span class="nf">fetchOne</span><span class="p">(</span><span class="n">db</span><span class="p">)</span> <span class="p">??</span> <span class="o">.</span><span class="k">default</span>
    <span class="k">switch</span> <span class="n">pref</span><span class="o">.</span><span class="n">selection</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">food</span><span class="p">:</span> <span class="k">return</span> <span class="k">try</span> <span class="kt">Food</span><span class="o">.</span><span class="nf">fetchCount</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">beverage</span><span class="p">:</span> <span class="k">return</span> <span class="k">try</span> <span class="kt">Beverage</span><span class="o">.</span><span class="nf">fetchCount</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tracking(region:fetch:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tracking(region:<wbr>fetch:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a <code>ValueObservation</code> that notifies the values returned by the
<code>fetch</code> function whenever a database transaction has an impact on the
given regions.</p>

<p>The tracked region <em>is not</em> automatically inferred from the requests
performed in the <code>fetch</code> function.</p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="c1">// Tracks the full database</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">region</span><span class="p">:</span> <span class="o">.</span><span class="n">fullDatabase</span><span class="p">,</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the full 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">region</span><span class="p">:</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">all</span><span class="p">(),</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the row with id 42 in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">region</span><span class="p">:</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">42</span><span class="p">),</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the 'score' column in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">region</span><span class="p">:</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">select</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="kt">Column</span><span class="p">(</span><span class="s">"score"</span><span class="p">)),</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks both the 'player' and 'team' tables</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">region</span><span class="p">:</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">all</span><span class="p">(),</span> <span class="kt">Team</span><span class="o">.</span><span class="nf">all</span><span class="p">(),</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>
</code></pre>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tracking(regions:fetch:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tracking(regions:<wbr>fetch:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a <code>ValueObservation</code> that notifies the values returned by the
<code>fetch</code> function whenever a database transaction has an impact on the
given regions.</p>

<p>The tracked region <em>is not</em> automatically inferred from the requests
performed in the <code>fetch</code> function.</p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="c1">// Tracks the full database</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">regions</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">fullDatabase</span><span class="p">],</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the full 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">regions</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="o">.</span><span class="nf">all</span><span class="p">()],</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the row with id 42 in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">regions</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="o">.</span><span class="nf">filter</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">42</span><span class="p">)],</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks the 'score' column in the 'player' table</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">regions</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="o">.</span><span class="nf">select</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="kt">Column</span><span class="p">(</span><span class="s">"score"</span><span class="p">))],</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>

<span class="c1">// Tracks both the 'player' and 'team' tables</span>
<span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span>
    <span class="nv">regions</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="o">.</span><span class="nf">all</span><span class="p">(),</span> <span class="kt">Team</span><span class="o">.</span><span class="nf">all</span><span class="p">()],</span>
    <span class="nv">fetch</span><span class="p">:</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span> <span class="o">...</span> <span class="p">})</span>
</code></pre>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/tracking(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">tracking(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a <code>ValueObservation</code> that notifies the values returned by the
<code>fetch</code> function whenever a database transaction changes them.</p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">observation</span> <span class="o">=</span> <span class="kt">ValueObservation</span><span class="o">.</span><span class="n">tracking</span> <span class="p">{</span> <span class="n">db</span> <span class="k">in</span>
    <span class="k">try</span> <span class="kt">Player</span><span class="o">.</span><span class="nf">fetchAll</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">cancellable</span> <span class="o">=</span> <span class="k">try</span> <span class="n">observation</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">in</span><span class="p">:</span> <span class="n">dbQueue</span><span class="p">,</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> <span class="o">...</span> <span class="p">},</span>
    <span class="nv">onChange</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">players</span><span class="p">:</span> <span class="p">[</span><span class="kt">Player</span><span class="p">])</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Players have changed"</span><span class="p">)</span>
    <span class="p">})</span>
</code></pre>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/map(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/">map(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a ValueObservation which notifies the results of calling the
given transformation which each element notified by this
value observation.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/removeDuplicates(by:)" class="dashAnchor"></a>
                    <a class="token" href="#/">removeDuplicates(by:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a ValueObservation which only publishes elements that don’t
match the previous element, as evaluated by a provided closure.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/removeDuplicates()" class="dashAnchor"></a>
                    <a class="token" href="#/">removeDuplicates()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a ValueObservation which filters out consecutive equal values.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2022 <a class="link" href="https://github.com/groue" target="_blank" rel="external noopener">Gwendal Roué</a>. All rights reserved. (Last updated: 2022-08-28)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
